{% extends "base.html" %}
{% block title %}Edit Student{% endblock %}
{% block content %}

<div class="form-container">
    <h2>Edit Student</h2>
    <form method="POST">
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="name" value="{{ student.name }}" required>
        </div>

        <div class="form-group">
            <label for="roll_no">Roll No (Cannot be changed)</label>
            <input type="text" id="roll_no" name="roll_no" value="{{ student.roll_no }}" disabled
                style="background-color: #e9ecef;">
        </div>

        <div class="form-group">
            <label for="branch">Branch</label>
            <input type="text" id="branch" name="branch" value="{{ student.branch }}" required>
        </div>

        <div class="form-group">
            <label for="semester">Semester</label>
            <!-- UPDATED: Changed to Select to handle 1-6 AND Alumni (None) -->
            <select id="semester" name="semester" required
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                {% for i in range(1, 7) %}
                <option value="{{ i }}" {% if student.semester==i %}selected{% endif %}>Semester {{ i }}</option>
                {% endfor %}
                <option value="" {% if student.semester is none %}selected{% endif %}
                    style="color: red; font-weight: bold;">Alumni / Graduated</option>
            </select>
        </div>

        <div class="form-group">
            <label for="parent_contact">Parent's Mobile Number</label>
            <input type="tel" id="parent_contact" name="parent_contact" value="{{ student.parent_contact }}"
                oninput="filterInput(this, /[^0-9]/g)" maxlength="10" required>
        </div>

        <button type="submit" class="btn">Update Student</button>
        <a href="{{ url_for('admin.view_students') }}" class="btn"
            style="background-color: #6c757d; margin-left: 10px;">Cancel</a>
    </form>
</div>
{% endblock %}