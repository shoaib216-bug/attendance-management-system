{% extends "base.html" %}
{% block title %}Forgot Password{% endblock %}

{% block content %}
<style>
    .form-container {
        max-width: 450px;
        margin: 3rem auto;
        padding: 2rem;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .form-container h2 {
        text-align: center;
        color: #333;
        margin-bottom: 1rem;
    }

    .description {
        text-align: center;
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
    }

    .form-group {
        margin-bottom: 1.2rem;
    }

    .form-group label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
        color: #555;
    }

    /* Styled Dropdown */
    .form-group select,
    .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
        background-color: #fff;
    }

    .btn {
        width: 100%;
        padding: 10px;
        background: #0d6efd;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        transition: background 0.3s;
    }

    .btn:hover {
        background: #0b5ed7;
    }

    .back-link {
        display: block;
        text-align: center;
        margin-top: 15px;
        color: #0d6efd;
        text-decoration: none;
    }

    .back-link:hover {
        text-decoration: underline;
    }
</style>

<div class="form-container">
    <h2>Reset Your Password</h2>
    <p class="description">
        Select your role and enter your username. An OTP will be sent to your registered mobile number.
    </p>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div
        style="padding: 10px; margin-bottom: 15px; border-radius: 4px; 
               background-color: {{ '#d4edda' if category == 'success' else '#fff3cd' if category == 'warning' else '#f8d7da' }};
               color: {{ '#155724' if category == 'success' else '#856404' if category == 'warning' else '#721c24' }};">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <form method="POST">
        <div class="form-group">
            <label for="user_type">I am a:</label>
            <!-- UPDATED DROPDOWN -->
            <select name="user_type" id="user_type" required>
                <option value="" disabled selected>Select Role</option>
                <option value="admin">Administrator</option>
                <option value="hod">Head of Department (HOD)</option> <!-- Added This -->
                <option value="staff">Staff Member</option>
            </select>
        </div>

        <div class="form-group">
            <label for="identifier">Username</label>
            <input type="text" id="identifier" name="identifier" placeholder="Enter your username" required>
        </div>

        <button type="submit" class="btn">Send OTP</button>
    </form>

    <a href="{{ url_for('auth.admin_login') }}" class="back-link">Back to Login</a>
</div>
{% endblock %}